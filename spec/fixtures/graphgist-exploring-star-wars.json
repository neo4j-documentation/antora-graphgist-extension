{"data":{"GraphGist":[{"uuid":"855363c7-cdeb-4c8b-b4a5-b72c8f2388e3","title":"Exploring the Star Wars social network","slug":"exploring-the-star-wars-social-network","summary":null,"image":[{"source_url":"https://graphgist-portal-production.s3.amazonaws.com/graph_starter/images/sources/c31/9cd/38-/medium/c319cd38-52f9-4641-95e4-bd374f99f6e5.png?Sun Mar 14 2021 19:07:16 GMT+0000 (Coordinated Universal Time)"}],"author":{"name":"Evelina Gabasova"},"industries":[],"use_cases":[{"slug":"pop-culture","name":"Pop Culture","image":[{"source_url":"https://graphgist-portal-production.s3.amazonaws.com/graph_starter/images/sources/de8/b13/4f-/medium/noun_253701.png?1457514437"}]}],"asciidoc":"= The Star Wars social network\n:author: Evelina Gabasova\n:twitter: @evelgab\n\nI recently looked at the whole Star Wars universe from a computational perspective, where I extracted and analyzed \nsocial networks from all seven films. The social network structure revealed some interesting differences\nbetween the individual films, especially between the original trilogy and the prequels. Here I'll look at how we \ncan represent and explore the same network using a Neo4j database. \n\nYou can read more about my original analysis in my two blog posts, which include additional social \nnetwork analysis and my F# scripts for downloading and extracting the data:\n\n* http://evelinag.com/blog/2015/12-15-star-wars-social-network/index.html[The Star Wars social network]\n\n* http://evelinag.com/blog/2016/01-25-social-network-force-awakens/index.html[Star Wars social networks: The Force Awakens]\n\n== The network\n\nThe social network was automatically constructed using the films' screenplays. \nThe nodes in the network represent the individual characters who are \nconnected by a link if they both speak within the same movie scene. \nThe network only includes characters that appear in at least two scenes and \nthat are explicitly named in the screenplay (I excluded characters called \"PILOT\" or even \"STAR DESTROYER TECHNICIAN\").\nI also separated the characters into two categories: `Person` and `Droid`. \n\nThe interactions create the basic structure of the network, where characters are connected\nby the `SPEAKS_WITH` relation. I also included the information about the individual\nmovies using the `APPEARS_IN` relation. The following graph illustrates the general\nnetwork structure: \n\nimage::https://s3-eu-west-1.amazonaws.com/evelinag/network-relations.png[]\n\nNow we can setup the database using the social network from all the 7 movies\ncombined together. \n\n//setup\n//hide\n[source,cypher]\n----\nCREATE\n  (Episode1:Movie {name: 'Episode I: The Phantom Menace'}),\n  (Episode2:Movie {name: 'Episode II: Attack of the Clones'}),\n  (Episode3:Movie {name: 'Episode III: Revenge of the Sith'}),\n  (Episode4:Movie {name: 'Episode IV: A New Hope'}),\n  (Episode5:Movie {name: 'Episode V: The Empire Strikes Back'}),\n  (Episode6:Movie {name: 'Episode VI: Return of the Jedi'}),\n  (Episode7:Movie {name: 'Episode VII: The Force Awakens'}),\n  (r2_d2:Droid {name: 'R2-D2'}),\n  (chewbacca:Person {name: 'CHEWBACCA'}),\n  (bb_8:Droid {name: 'BB-8'}),\n  (qui_gon:Person {name: 'QUI-GON'}),\n  (nute_gunray:Person {name: 'NUTE GUNRAY'}),\n  (pk_4:Person {name: 'PK-4'}),\n  (tc_14:Person {name: 'TC-14'}),\n  (obi_wan:Person {name: 'OBI-WAN'}),\n  (dofine:Person {name: 'DOFINE'}),\n  (rune:Person {name: 'RUNE'}),\n  (tey_how:Person {name: 'TEY HOW'}),\n  (emperor:Person {name: 'EMPEROR'}),\n  (captain_panaka:Person {name: 'CAPTAIN PANAKA'}),\n  (sio_bibble:Person {name: 'SIO BIBBLE'}),\n  (jar_jar:Person {name: 'JAR JAR'}),\n  (tarpals:Person {name: 'TARPALS'}),\n  (boss_nass:Person {name: 'BOSS NASS'}),\n  (padme:Person {name: 'PADME'}),\n  (ric_olie:Person {name: 'RIC OLIE'}),\n  (watto:Person {name: 'WATTO'}),\n  (anakin:Person {name: 'ANAKIN'}),\n  (sebulba:Person {name: 'SEBULBA'}),\n  (jira:Person {name: 'JIRA'}),\n  (shmi:Person {name: 'SHMI'}),\n  (c_3po:Droid {name: 'C-3PO'}),\n  (darth_maul:Person {name: 'DARTH MAUL'}),\n  (kitster:Person {name: 'KITSTER'}),\n  (wald:Person {name: 'WALD'}),\n  (fode_beed:Person {name: 'FODE/BEED'}),\n  (jabba:Person {name: 'JABBA'}),\n  (greedo:Person {name: 'GREEDO'}),\n  (valorum:Person {name: 'VALORUM'}),\n  (mace_windu:Person {name: 'MACE WINDU'}),\n  (ki_adi_mundi:Person {name: 'KI-ADI-MUNDI'}),\n  (yoda:Person {name: 'YODA'}),\n  (rabe:Person {name: 'RABE'}),\n  (bail_organa:Person {name: 'BAIL ORGANA'}),\n  (general_ceel:Person {name: 'GENERAL CEEL'}),\n  (bravo_two:Person {name: 'BRAVO TWO'}),\n  (bravo_three:Person {name: 'BRAVO THREE'}),\n  (captain_typho:Person {name: 'CAPTAIN TYPHO'}),\n  (senator_ask_aak:Person {name: 'SENATOR ASK AAK'}),\n  (orn_free_taa:Person {name: 'ORN FREE TAA'}),\n  (sola:Person {name: 'SOLA'}),\n  (jobal:Person {name: 'JOBAL'}),\n  (ruwee:Person {name: 'RUWEE'}),\n  (taun_we:Person {name: 'TAUN WE'}),\n  (lama_su:Person {name: 'LAMA SU'}),\n  (boba_fett:Person {name: 'BOBA FETT'}),\n  (jango_fett:Person {name: 'JANGO FETT'}),\n  (owen:Person {name: 'OWEN'}),\n  (beru:Person {name: 'BERU'}),\n  (cliegg:Person {name: 'CLIEGG'}),\n  (count_dooku:Person {name: 'COUNT DOOKU'}),\n  (sun_rit:Person {name: 'SUN RIT'}),\n  (poggle:Person {name: 'POGGLE'}),\n  (plo_koon:Person {name: 'PLO KOON'}),\n  (odd_ball:Person {name: 'ODD BALL'}),\n  (general_grievous:Person {name: 'GENERAL GRIEVOUS'}),\n  (fang_zar:Person {name: 'FANG ZAR'}),\n  (mon_mothma:Person {name: 'MON MOTHMA'}),\n  (giddean_danu:Person {name: 'GIDDEAN DANU'}),\n  (clone_commander_gree:Person {name: 'CLONE COMMANDER GREE'}),\n  (clone_commander_cody:Person {name: 'CLONE COMMANDER CODY'}),\n  (tion_medon:Person {name: 'TION MEDON'}),\n  (captain_antilles:Person {name: 'CAPTAIN ANTILLES'}),\n  (darth_vader:Person {name: 'DARTH VADER'}),\n  (luke:Person {name: 'LUKE'}),\n  (camie:Person {name: 'CAMIE'}),\n  (biggs:Person {name: 'BIGGS'}),\n  (leia:Person {name: 'LEIA'}),\n  (motti:Person {name: 'MOTTI'}),\n  (tarkin:Person {name: 'TARKIN'}),\n  (han:Person {name: 'HAN'}),\n  (dodonna:Person {name: 'DODONNA'}),\n  (gold_leader:Person {name: 'GOLD LEADER'}),\n  (wedge:Person {name: 'WEDGE'}),\n  (red_leader:Person {name: 'RED LEADER'}),\n  (red_ten:Person {name: 'RED TEN'}),\n  (gold_five:Person {name: 'GOLD FIVE'}),\n  (rieekan:Person {name: 'RIEEKAN'}),\n  (derlin:Person {name: 'DERLIN'}),\n  (zev:Person {name: 'ZEV'}),\n  (piett:Person {name: 'PIETT'}),\n  (ozzel:Person {name: 'OZZEL'}),\n  (dack:Person {name: 'DACK'}),\n  (janson:Person {name: 'JANSON'}),\n  (needa:Person {name: 'NEEDA'}),\n  (lando:Person {name: 'LANDO'}),\n  (jerjerrod:Person {name: 'JERJERROD'}),\n  (bib_fortuna:Person {name: 'BIB FORTUNA'}),\n  (boushh:Person {name: 'BOUSHH'}),\n  (admiral_ackbar:Person {name: 'ADMIRAL ACKBAR'}),\n  (lor_san_tekka:Person {name: 'LOR SAN TEKKA'}),\n  (poe:Person {name: 'POE'}),\n  (kylo_ren:Person {name: 'KYLO REN'}),\n  (captain_phasma:Person {name: 'CAPTAIN PHASMA'}),\n  (finn:Person {name: 'FINN'}),\n  (unkar_plutt:Person {name: 'UNKAR PLUTT'}),\n  (rey:Person {name: 'REY'}),\n  (general_hux:Person {name: 'GENERAL HUX'}),\n  (lieutenant_mitaka:Person {name: 'LIEUTENANT MITAKA'}),\n  (bala_tik:Person {name: 'BALA-TIK'}),\n  (snoke:Person {name: 'SNOKE'}),\n  (maz:Person {name: 'MAZ'}),\n  (snap:Person {name: 'SNAP'}),\n  (admiral_statura:Person {name: 'ADMIRAL STATURA'}),\n  (yolo_ziff:Person {name: 'YOLO ZIFF'}),\n  (colonel_datoo:Person {name: 'COLONEL DATOO'}),\n  (ello_asty:Person {name: 'ELLO ASTY'}),\n  (jess:Person {name: 'JESS'}),\n  (niv_lek:Person {name: 'NIV LEK'}),\n  (chewbacca)-[:SPEAKS_WITH]->(r2_d2),\n  (bb_8)-[:SPEAKS_WITH]->(r2_d2),\n  (bb_8)-[:SPEAKS_WITH]->(chewbacca),\n  (obi_wan)-[:SPEAKS_WITH]->(r2_d2),\n  (padme)-[:SPEAKS_WITH]->(r2_d2),\n  (qui_gon)-[:SPEAKS_WITH]->(r2_d2),\n  (anakin)-[:SPEAKS_WITH]->(r2_d2),\n  (r2_d2)-[:SPEAKS_WITH]->(watto),\n  (c_3po)-[:SPEAKS_WITH]->(r2_d2),\n  (kitster)-[:SPEAKS_WITH]->(r2_d2),\n  (jabba)-[:SPEAKS_WITH]->(r2_d2),\n  (emperor)-[:SPEAKS_WITH]->(r2_d2),\n  (captain_typho)-[:SPEAKS_WITH]->(r2_d2),\n  (beru)-[:SPEAKS_WITH]->(r2_d2),\n  (owen)-[:SPEAKS_WITH]->(r2_d2),\n  (bail_organa)-[:SPEAKS_WITH]->(r2_d2),\n  (r2_d2)-[:SPEAKS_WITH]->(yoda),\n  (luke)-[:SPEAKS_WITH]->(r2_d2),\n  (leia)-[:SPEAKS_WITH]->(r2_d2),\n  (captain_antilles)-[:SPEAKS_WITH]->(r2_d2),\n  (biggs)-[:SPEAKS_WITH]->(r2_d2),\n  (darth_vader)-[:SPEAKS_WITH]->(r2_d2),\n  (han)-[:SPEAKS_WITH]->(r2_d2),\n  (lando)-[:SPEAKS_WITH]->(r2_d2),\n  (chewbacca)-[:SPEAKS_WITH]->(obi_wan),\n  (c_3po)-[:SPEAKS_WITH]->(chewbacca),\n  (chewbacca)-[:SPEAKS_WITH]->(luke),\n  (chewbacca)-[:SPEAKS_WITH]->(han),\n  (chewbacca)-[:SPEAKS_WITH]->(jabba),\n  (chewbacca)-[:SPEAKS_WITH]->(leia),\n  (chewbacca)-[:SPEAKS_WITH]->(darth_vader),\n  (chewbacca)-[:SPEAKS_WITH]->(rieekan),\n  (chewbacca)-[:SPEAKS_WITH]->(lando),\n  (boba_fett)-[:SPEAKS_WITH]->(chewbacca),\n  (chewbacca)-[:SPEAKS_WITH]->(finn),\n  (chewbacca)-[:SPEAKS_WITH]->(rey),\n  (bala_tik)-[:SPEAKS_WITH]->(chewbacca),\n  (chewbacca)-[:SPEAKS_WITH]->(maz),\n  (chewbacca)-[:SPEAKS_WITH]->(poe),\n  (chewbacca)-[:SPEAKS_WITH]->(kylo_ren),\n  (captain_phasma)-[:SPEAKS_WITH]->(chewbacca),\n  (bb_8)-[:SPEAKS_WITH]->(poe),\n  (bb_8)-[:SPEAKS_WITH]->(lor_san_tekka),\n  (bb_8)-[:SPEAKS_WITH]->(rey),\n  (bb_8)-[:SPEAKS_WITH]->(unkar_plutt),\n  (bb_8)-[:SPEAKS_WITH]->(finn),\n  (bb_8)-[:SPEAKS_WITH]->(han),\n  (bala_tik)-[:SPEAKS_WITH]->(bb_8),\n  (bb_8)-[:SPEAKS_WITH]->(maz),\n  (bb_8)-[:SPEAKS_WITH]->(leia),\n  (bb_8)-[:SPEAKS_WITH]->(c_3po),\n  (nute_gunray)-[:SPEAKS_WITH]->(qui_gon),\n  (pk_4)-[:SPEAKS_WITH]->(tc_14),\n  (obi_wan)-[:SPEAKS_WITH]->(tc_14),\n  (qui_gon)-[:SPEAKS_WITH]->(tc_14),\n  (obi_wan)-[:SPEAKS_WITH]->(qui_gon),\n  (nute_gunray)-[:SPEAKS_WITH]->(tc_14),\n  (dofine)-[:SPEAKS_WITH]->(nute_gunray),\n  (dofine)-[:SPEAKS_WITH]->(tc_14),\n  (nute_gunray)-[:SPEAKS_WITH]->(rune),\n  (rune)-[:SPEAKS_WITH]->(tey_how),\n  (nute_gunray)-[:SPEAKS_WITH]->(tey_how),\n  (captain_panaka)-[:SPEAKS_WITH]->(emperor),\n  (emperor)-[:SPEAKS_WITH]->(sio_bibble),\n  (captain_panaka)-[:SPEAKS_WITH]->(sio_bibble),\n  (jar_jar)-[:SPEAKS_WITH]->(qui_gon),\n  (jar_jar)-[:SPEAKS_WITH]->(obi_wan),\n  (jar_jar)-[:SPEAKS_WITH]->(tarpals),\n  (boss_nass)-[:SPEAKS_WITH]->(qui_gon),\n  (boss_nass)-[:SPEAKS_WITH]->(obi_wan),\n  (boss_nass)-[:SPEAKS_WITH]->(jar_jar),\n  (emperor)-[:SPEAKS_WITH]->(nute_gunray),\n  (emperor)-[:SPEAKS_WITH]->(rune),\n  (nute_gunray)-[:SPEAKS_WITH]->(sio_bibble),\n  (jar_jar)-[:SPEAKS_WITH]->(sio_bibble),\n  (captain_panaka)-[:SPEAKS_WITH]->(jar_jar),\n  (qui_gon)-[:SPEAKS_WITH]->(sio_bibble),\n  (captain_panaka)-[:SPEAKS_WITH]->(qui_gon),\n  (captain_panaka)-[:SPEAKS_WITH]->(padme),\n  (padme)-[:SPEAKS_WITH]->(qui_gon),\n  (padme)-[:SPEAKS_WITH]->(sio_bibble),\n  (captain_panaka)-[:SPEAKS_WITH]->(obi_wan),\n  (obi_wan)-[:SPEAKS_WITH]->(ric_olie),\n  (jar_jar)-[:SPEAKS_WITH]->(ric_olie),\n  (qui_gon)-[:SPEAKS_WITH]->(ric_olie),\n  (captain_panaka)-[:SPEAKS_WITH]->(ric_olie),\n  (jar_jar)-[:SPEAKS_WITH]->(padme),\n  (qui_gon)-[:SPEAKS_WITH]->(watto),\n  (anakin)-[:SPEAKS_WITH]->(watto),\n  (padme)-[:SPEAKS_WITH]->(watto),\n  (anakin)-[:SPEAKS_WITH]->(qui_gon),\n  (anakin)-[:SPEAKS_WITH]->(padme),\n  (jar_jar)-[:SPEAKS_WITH]->(sebulba),\n  (anakin)-[:SPEAKS_WITH]->(sebulba),\n  (qui_gon)-[:SPEAKS_WITH]->(sebulba),\n  (padme)-[:SPEAKS_WITH]->(sebulba),\n  (anakin)-[:SPEAKS_WITH]->(jar_jar),\n  (anakin)-[:SPEAKS_WITH]->(jira),\n  (jira)-[:SPEAKS_WITH]->(qui_gon),\n  (jira)-[:SPEAKS_WITH]->(padme),\n  (anakin)-[:SPEAKS_WITH]->(shmi),\n  (jar_jar)-[:SPEAKS_WITH]->(shmi),\n  (qui_gon)-[:SPEAKS_WITH]->(shmi),\n  (padme)-[:SPEAKS_WITH]->(shmi),\n  (anakin)-[:SPEAKS_WITH]->(c_3po),\n  (c_3po)-[:SPEAKS_WITH]->(padme),\n  (obi_wan)-[:SPEAKS_WITH]->(sio_bibble),\n  (darth_maul)-[:SPEAKS_WITH]->(emperor),\n  (anakin)-[:SPEAKS_WITH]->(kitster),\n  (anakin)-[:SPEAKS_WITH]->(wald),\n  (kitster)-[:SPEAKS_WITH]->(wald),\n  (jar_jar)-[:SPEAKS_WITH]->(kitster),\n  (kitster)-[:SPEAKS_WITH]->(qui_gon),\n  (jar_jar)-[:SPEAKS_WITH]->(wald),\n  (qui_gon)-[:SPEAKS_WITH]->(wald),\n  (anakin)-[:SPEAKS_WITH]->(obi_wan),\n  (obi_wan)-[:SPEAKS_WITH]->(shmi),\n  (c_3po)-[:SPEAKS_WITH]->(watto),\n  (kitster)-[:SPEAKS_WITH]->(watto),\n  (c_3po)-[:SPEAKS_WITH]->(qui_gon),\n  (c_3po)-[:SPEAKS_WITH]->(kitster),\n  (kitster)-[:SPEAKS_WITH]->(padme),\n  (fode_beed)-[:SPEAKS_WITH]->(jabba),\n  (jabba)-[:SPEAKS_WITH]->(shmi),\n  (sebulba)-[:SPEAKS_WITH]->(shmi),\n  (anakin)-[:SPEAKS_WITH]->(jabba),\n  (jabba)-[:SPEAKS_WITH]->(jar_jar),\n  (jabba)-[:SPEAKS_WITH]->(padme),\n  (jabba)-[:SPEAKS_WITH]->(sebulba),\n  (jabba)-[:SPEAKS_WITH]->(qui_gon),\n  (fode_beed)-[:SPEAKS_WITH]->(jar_jar),\n  (fode_beed)-[:SPEAKS_WITH]->(padme),\n  (greedo)-[:SPEAKS_WITH]->(qui_gon),\n  (anakin)-[:SPEAKS_WITH]->(greedo),\n  (greedo)-[:SPEAKS_WITH]->(wald),\n  (kitster)-[:SPEAKS_WITH]->(shmi),\n  (anakin)-[:SPEAKS_WITH]->(captain_panaka),\n  (anakin)-[:SPEAKS_WITH]->(ric_olie),\n  (emperor)-[:SPEAKS_WITH]->(valorum),\n  (emperor)-[:SPEAKS_WITH]->(jar_jar),\n  (emperor)-[:SPEAKS_WITH]->(qui_gon),\n  (jar_jar)-[:SPEAKS_WITH]->(valorum),\n  (qui_gon)-[:SPEAKS_WITH]->(valorum),\n  (mace_windu)-[:SPEAKS_WITH]->(qui_gon),\n  (ki_adi_mundi)-[:SPEAKS_WITH]->(qui_gon),\n  (qui_gon)-[:SPEAKS_WITH]->(yoda),\n  (qui_gon)-[:SPEAKS_WITH]->(rabe),\n  (ki_adi_mundi)-[:SPEAKS_WITH]->(mace_windu),\n  (mace_windu)-[:SPEAKS_WITH]->(yoda),\n  (anakin)-[:SPEAKS_WITH]->(mace_windu),\n  (mace_windu)-[:SPEAKS_WITH]->(rabe),\n  (ki_adi_mundi)-[:SPEAKS_WITH]->(yoda),\n  (anakin)-[:SPEAKS_WITH]->(ki_adi_mundi),\n  (ki_adi_mundi)-[:SPEAKS_WITH]->(rabe),\n  (anakin)-[:SPEAKS_WITH]->(yoda),\n  (rabe)-[:SPEAKS_WITH]->(yoda),\n  (anakin)-[:SPEAKS_WITH]->(rabe),\n  (bail_organa)-[:SPEAKS_WITH]->(emperor),\n  (bail_organa)-[:SPEAKS_WITH]->(valorum),\n  (obi_wan)-[:SPEAKS_WITH]->(yoda),\n  (mace_windu)-[:SPEAKS_WITH]->(obi_wan),\n  (ki_adi_mundi)-[:SPEAKS_WITH]->(obi_wan),\n  (boss_nass)-[:SPEAKS_WITH]->(padme),\n  (darth_maul)-[:SPEAKS_WITH]->(nute_gunray),\n  (anakin)-[:SPEAKS_WITH]->(boss_nass),\n  (boss_nass)-[:SPEAKS_WITH]->(captain_panaka),\n  (obi_wan)-[:SPEAKS_WITH]->(padme),\n  (emperor)-[:SPEAKS_WITH]->(general_ceel),\n  (general_ceel)-[:SPEAKS_WITH]->(nute_gunray),\n  (darth_maul)-[:SPEAKS_WITH]->(general_ceel),\n  (darth_maul)-[:SPEAKS_WITH]->(rune),\n  (bravo_two)-[:SPEAKS_WITH]->(ric_olie),\n  (anakin)-[:SPEAKS_WITH]->(bravo_two),\n  (general_ceel)-[:SPEAKS_WITH]->(jar_jar),\n  (nute_gunray)-[:SPEAKS_WITH]->(padme),\n  (dofine)-[:SPEAKS_WITH]->(tey_how),\n  (bravo_three)-[:SPEAKS_WITH]->(bravo_two),\n  (bravo_three)-[:SPEAKS_WITH]->(ric_olie),\n  (anakin)-[:SPEAKS_WITH]->(bravo_three),\n  (emperor)-[:SPEAKS_WITH]->(padme),\n  (emperor)-[:SPEAKS_WITH]->(senator_ask_aak),\n  (emperor)-[:SPEAKS_WITH]->(orn_free_taa),\n  (orn_free_taa)-[:SPEAKS_WITH]->(senator_ask_aak),\n  (emperor)-[:SPEAKS_WITH]->(mace_windu),\n  (emperor)-[:SPEAKS_WITH]->(yoda),\n  (emperor)-[:SPEAKS_WITH]->(ki_adi_mundi),\n  (bail_organa)-[:SPEAKS_WITH]->(mace_windu),\n  (bail_organa)-[:SPEAKS_WITH]->(yoda),\n  (bail_organa)-[:SPEAKS_WITH]->(ki_adi_mundi),\n  (captain_typho)-[:SPEAKS_WITH]->(jar_jar),\n  (captain_typho)-[:SPEAKS_WITH]->(obi_wan),\n  (anakin)-[:SPEAKS_WITH]->(captain_typho),\n  (obi_wan)-[:SPEAKS_WITH]->(pk_4),\n  (anakin)-[:SPEAKS_WITH]->(sio_bibble),\n  (padme)-[:SPEAKS_WITH]->(sola),\n  (anakin)-[:SPEAKS_WITH]->(sola),\n  (jobal)-[:SPEAKS_WITH]->(sola),\n  (ruwee)-[:SPEAKS_WITH]->(sola),\n  (jobal)-[:SPEAKS_WITH]->(padme),\n  (padme)-[:SPEAKS_WITH]->(ruwee),\n  (anakin)-[:SPEAKS_WITH]->(jobal),\n  (anakin)-[:SPEAKS_WITH]->(ruwee),\n  (jobal)-[:SPEAKS_WITH]->(ruwee),\n  (obi_wan)-[:SPEAKS_WITH]->(taun_we),\n  (lama_su)-[:SPEAKS_WITH]->(taun_we),\n  (lama_su)-[:SPEAKS_WITH]->(obi_wan),\n  (boba_fett)-[:SPEAKS_WITH]->(taun_we),\n  (boba_fett)-[:SPEAKS_WITH]->(jango_fett),\n  (boba_fett)-[:SPEAKS_WITH]->(obi_wan),\n  (jango_fett)-[:SPEAKS_WITH]->(taun_we),\n  (jango_fett)-[:SPEAKS_WITH]->(obi_wan),\n  (c_3po)-[:SPEAKS_WITH]->(owen),\n  (beru)-[:SPEAKS_WITH]->(c_3po),\n  (c_3po)-[:SPEAKS_WITH]->(cliegg),\n  (anakin)-[:SPEAKS_WITH]->(owen),\n  (anakin)-[:SPEAKS_WITH]->(beru),\n  (anakin)-[:SPEAKS_WITH]->(cliegg),\n  (beru)-[:SPEAKS_WITH]->(owen),\n  (owen)-[:SPEAKS_WITH]->(padme),\n  (cliegg)-[:SPEAKS_WITH]->(owen),\n  (beru)-[:SPEAKS_WITH]->(padme),\n  (beru)-[:SPEAKS_WITH]->(cliegg),\n  (cliegg)-[:SPEAKS_WITH]->(padme),\n  (bail_organa)-[:SPEAKS_WITH]->(obi_wan),\n  (emperor)-[:SPEAKS_WITH]->(obi_wan),\n  (obi_wan)-[:SPEAKS_WITH]->(senator_ask_aak),\n  (bail_organa)-[:SPEAKS_WITH]->(senator_ask_aak),\n  (bail_organa)-[:SPEAKS_WITH]->(jar_jar),\n  (senator_ask_aak)-[:SPEAKS_WITH]->(yoda),\n  (jar_jar)-[:SPEAKS_WITH]->(yoda),\n  (mace_windu)-[:SPEAKS_WITH]->(senator_ask_aak),\n  (jar_jar)-[:SPEAKS_WITH]->(mace_windu),\n  (jar_jar)-[:SPEAKS_WITH]->(senator_ask_aak),\n  (mace_windu)-[:SPEAKS_WITH]->(padme),\n  (jar_jar)-[:SPEAKS_WITH]->(orn_free_taa),\n  (count_dooku)-[:SPEAKS_WITH]->(padme),\n  (count_dooku)-[:SPEAKS_WITH]->(jango_fett),\n  (poggle)-[:SPEAKS_WITH]->(sun_rit),\n  (nute_gunray)-[:SPEAKS_WITH]->(sun_rit),\n  (nute_gunray)-[:SPEAKS_WITH]->(poggle),\n  (obi_wan)-[:SPEAKS_WITH]->(sun_rit),\n  (obi_wan)-[:SPEAKS_WITH]->(poggle),\n  (nute_gunray)-[:SPEAKS_WITH]->(obi_wan),\n  (count_dooku)-[:SPEAKS_WITH]->(obi_wan),\n  (anakin)-[:SPEAKS_WITH]->(sun_rit),\n  (anakin)-[:SPEAKS_WITH]->(poggle),\n  (anakin)-[:SPEAKS_WITH]->(nute_gunray),\n  (anakin)-[:SPEAKS_WITH]->(count_dooku),\n  (padme)-[:SPEAKS_WITH]->(sun_rit),\n  (count_dooku)-[:SPEAKS_WITH]->(sun_rit),\n  (padme)-[:SPEAKS_WITH]->(poggle),\n  (count_dooku)-[:SPEAKS_WITH]->(poggle),\n  (count_dooku)-[:SPEAKS_WITH]->(nute_gunray),\n  (count_dooku)-[:SPEAKS_WITH]->(mace_windu),\n  (ki_adi_mundi)-[:SPEAKS_WITH]->(plo_koon),\n  (count_dooku)-[:SPEAKS_WITH]->(yoda),\n  (padme)-[:SPEAKS_WITH]->(yoda),\n  (count_dooku)-[:SPEAKS_WITH]->(emperor),\n  (obi_wan)-[:SPEAKS_WITH]->(odd_ball),\n  (anakin)-[:SPEAKS_WITH]->(odd_ball),\n  (anakin)-[:SPEAKS_WITH]->(emperor),\n  (general_grievous)-[:SPEAKS_WITH]->(obi_wan),\n  (anakin)-[:SPEAKS_WITH]->(general_grievous),\n  (anakin)-[:SPEAKS_WITH]->(bail_organa),\n  (c_3po)-[:SPEAKS_WITH]->(obi_wan),\n  (c_3po)-[:SPEAKS_WITH]->(emperor),\n  (bail_organa)-[:SPEAKS_WITH]->(c_3po),\n  (bail_organa)-[:SPEAKS_WITH]->(padme),\n  (bail_organa)-[:SPEAKS_WITH]->(fang_zar),\n  (bail_organa)-[:SPEAKS_WITH]->(mon_mothma),\n  (bail_organa)-[:SPEAKS_WITH]->(giddean_danu),\n  (fang_zar)-[:SPEAKS_WITH]->(padme),\n  (fang_zar)-[:SPEAKS_WITH]->(mon_mothma),\n  (fang_zar)-[:SPEAKS_WITH]->(giddean_danu),\n  (mon_mothma)-[:SPEAKS_WITH]->(padme),\n  (giddean_danu)-[:SPEAKS_WITH]->(padme),\n  (giddean_danu)-[:SPEAKS_WITH]->(mon_mothma),\n  (captain_typho)-[:SPEAKS_WITH]->(padme),\n  (c_3po)-[:SPEAKS_WITH]->(captain_typho),\n  (clone_commander_gree)-[:SPEAKS_WITH]->(yoda),\n  (clone_commander_cody)-[:SPEAKS_WITH]->(obi_wan),\n  (obi_wan)-[:SPEAKS_WITH]->(tion_medon),\n  (general_grievous)-[:SPEAKS_WITH]->(nute_gunray),\n  (anakin)-[:SPEAKS_WITH]->(clone_commander_cody),\n  (clone_commander_cody)-[:SPEAKS_WITH]->(mace_windu),\n  (clone_commander_cody)-[:SPEAKS_WITH]->(yoda),\n  (bail_organa)-[:SPEAKS_WITH]->(captain_antilles),\n  (bail_organa)-[:SPEAKS_WITH]->(qui_gon),\n  (c_3po)-[:SPEAKS_WITH]->(yoda),\n  (darth_vader)-[:SPEAKS_WITH]->(emperor),\n  (c_3po)-[:SPEAKS_WITH]->(captain_antilles),\n  (camie)-[:SPEAKS_WITH]->(luke),\n  (biggs)-[:SPEAKS_WITH]->(camie),\n  (biggs)-[:SPEAKS_WITH]->(luke),\n  (darth_vader)-[:SPEAKS_WITH]->(leia),\n  (beru)-[:SPEAKS_WITH]->(luke),\n  (luke)-[:SPEAKS_WITH]->(owen),\n  (c_3po)-[:SPEAKS_WITH]->(luke),\n  (c_3po)-[:SPEAKS_WITH]->(leia),\n  (leia)-[:SPEAKS_WITH]->(luke),\n  (beru)-[:SPEAKS_WITH]->(leia),\n  (luke)-[:SPEAKS_WITH]->(obi_wan),\n  (leia)-[:SPEAKS_WITH]->(obi_wan),\n  (motti)-[:SPEAKS_WITH]->(tarkin),\n  (darth_vader)-[:SPEAKS_WITH]->(motti),\n  (darth_vader)-[:SPEAKS_WITH]->(tarkin),\n  (han)-[:SPEAKS_WITH]->(obi_wan),\n  (han)-[:SPEAKS_WITH]->(luke),\n  (greedo)-[:SPEAKS_WITH]->(han),\n  (han)-[:SPEAKS_WITH]->(jabba),\n  (c_3po)-[:SPEAKS_WITH]->(han),\n  (leia)-[:SPEAKS_WITH]->(motti),\n  (leia)-[:SPEAKS_WITH]->(tarkin),\n  (han)-[:SPEAKS_WITH]->(leia),\n  (darth_vader)-[:SPEAKS_WITH]->(obi_wan),\n  (dodonna)-[:SPEAKS_WITH]->(gold_leader),\n  (dodonna)-[:SPEAKS_WITH]->(wedge),\n  (dodonna)-[:SPEAKS_WITH]->(luke),\n  (gold_leader)-[:SPEAKS_WITH]->(wedge),\n  (gold_leader)-[:SPEAKS_WITH]->(luke),\n  (luke)-[:SPEAKS_WITH]->(wedge),\n  (biggs)-[:SPEAKS_WITH]->(leia),\n  (leia)-[:SPEAKS_WITH]->(red_leader),\n  (luke)-[:SPEAKS_WITH]->(red_leader),\n  (biggs)-[:SPEAKS_WITH]->(red_leader),\n  (biggs)-[:SPEAKS_WITH]->(c_3po),\n  (c_3po)-[:SPEAKS_WITH]->(red_leader),\n  (red_leader)-[:SPEAKS_WITH]->(wedge),\n  (gold_leader)-[:SPEAKS_WITH]->(red_leader),\n  (biggs)-[:SPEAKS_WITH]->(wedge),\n  (red_leader)-[:SPEAKS_WITH]->(red_ten),\n  (biggs)-[:SPEAKS_WITH]->(gold_leader),\n  (luke)-[:SPEAKS_WITH]->(red_ten),\n  (han)-[:SPEAKS_WITH]->(rieekan),\n  (leia)-[:SPEAKS_WITH]->(rieekan),\n  (c_3po)-[:SPEAKS_WITH]->(derlin),\n  (han)-[:SPEAKS_WITH]->(zev),\n  (c_3po)-[:SPEAKS_WITH]->(rieekan),\n  (ozzel)-[:SPEAKS_WITH]->(piett),\n  (darth_vader)-[:SPEAKS_WITH]->(piett),\n  (darth_vader)-[:SPEAKS_WITH]->(ozzel),\n  (derlin)-[:SPEAKS_WITH]->(leia),\n  (dack)-[:SPEAKS_WITH]->(luke),\n  (janson)-[:SPEAKS_WITH]->(wedge),\n  (luke)-[:SPEAKS_WITH]->(zev),\n  (darth_vader)-[:SPEAKS_WITH]->(needa),\n  (needa)-[:SPEAKS_WITH]->(piett),\n  (luke)-[:SPEAKS_WITH]->(yoda),\n  (boba_fett)-[:SPEAKS_WITH]->(piett),\n  (boba_fett)-[:SPEAKS_WITH]->(darth_vader),\n  (han)-[:SPEAKS_WITH]->(lando),\n  (lando)-[:SPEAKS_WITH]->(leia),\n  (c_3po)-[:SPEAKS_WITH]->(lando),\n  (darth_vader)-[:SPEAKS_WITH]->(lando),\n  (darth_vader)-[:SPEAKS_WITH]->(han),\n  (boba_fett)-[:SPEAKS_WITH]->(lando),\n  (boba_fett)-[:SPEAKS_WITH]->(c_3po),\n  (c_3po)-[:SPEAKS_WITH]->(darth_vader),\n  (boba_fett)-[:SPEAKS_WITH]->(han),\n  (boba_fett)-[:SPEAKS_WITH]->(leia),\n  (darth_vader)-[:SPEAKS_WITH]->(luke),\n  (lando)-[:SPEAKS_WITH]->(luke),\n  (darth_vader)-[:SPEAKS_WITH]->(jerjerrod),\n  (bib_fortuna)-[:SPEAKS_WITH]->(c_3po),\n  (c_3po)-[:SPEAKS_WITH]->(jabba),\n  (jabba)-[:SPEAKS_WITH]->(luke),\n  (boushh)-[:SPEAKS_WITH]->(jabba),\n  (boushh)-[:SPEAKS_WITH]->(c_3po),\n  (boushh)-[:SPEAKS_WITH]->(han),\n  (boushh)-[:SPEAKS_WITH]->(leia),\n  (bib_fortuna)-[:SPEAKS_WITH]->(luke),\n  (bib_fortuna)-[:SPEAKS_WITH]->(jabba),\n  (han)-[:SPEAKS_WITH]->(mon_mothma),\n  (admiral_ackbar)-[:SPEAKS_WITH]->(han),\n  (lando)-[:SPEAKS_WITH]->(mon_mothma),\n  (admiral_ackbar)-[:SPEAKS_WITH]->(lando),\n  (admiral_ackbar)-[:SPEAKS_WITH]->(mon_mothma),\n  (c_3po)-[:SPEAKS_WITH]->(mon_mothma),\n  (leia)-[:SPEAKS_WITH]->(mon_mothma),\n  (luke)-[:SPEAKS_WITH]->(mon_mothma),\n  (admiral_ackbar)-[:SPEAKS_WITH]->(c_3po),\n  (admiral_ackbar)-[:SPEAKS_WITH]->(leia),\n  (admiral_ackbar)-[:SPEAKS_WITH]->(luke),\n  (emperor)-[:SPEAKS_WITH]->(luke),\n  (lando)-[:SPEAKS_WITH]->(wedge),\n  (admiral_ackbar)-[:SPEAKS_WITH]->(wedge),\n  (anakin)-[:SPEAKS_WITH]->(darth_vader),\n  (anakin)-[:SPEAKS_WITH]->(luke),\n  (lor_san_tekka)-[:SPEAKS_WITH]->(poe),\n  (kylo_ren)-[:SPEAKS_WITH]->(lor_san_tekka),\n  (kylo_ren)-[:SPEAKS_WITH]->(poe),\n  (captain_phasma)-[:SPEAKS_WITH]->(kylo_ren),\n  (captain_phasma)-[:SPEAKS_WITH]->(lor_san_tekka),\n  (captain_phasma)-[:SPEAKS_WITH]->(poe),\n  (captain_phasma)-[:SPEAKS_WITH]->(finn),\n  (general_hux)-[:SPEAKS_WITH]->(kylo_ren),\n  (rey)-[:SPEAKS_WITH]->(unkar_plutt),\n  (finn)-[:SPEAKS_WITH]->(poe),\n  (general_hux)-[:SPEAKS_WITH]->(lieutenant_mitaka),\n  (kylo_ren)-[:SPEAKS_WITH]->(lieutenant_mitaka),\n  (captain_phasma)-[:SPEAKS_WITH]->(general_hux),\n  (finn)-[:SPEAKS_WITH]->(rey),\n  (han)-[:SPEAKS_WITH]->(rey),\n  (finn)-[:SPEAKS_WITH]->(han),\n  (bala_tik)-[:SPEAKS_WITH]->(han),\n  (bala_tik)-[:SPEAKS_WITH]->(rey),\n  (bala_tik)-[:SPEAKS_WITH]->(finn),\n  (general_hux)-[:SPEAKS_WITH]->(snoke),\n  (kylo_ren)-[:SPEAKS_WITH]->(snoke),\n  (han)-[:SPEAKS_WITH]->(maz),\n  (finn)-[:SPEAKS_WITH]->(maz),\n  (maz)-[:SPEAKS_WITH]->(rey),\n  (han)-[:SPEAKS_WITH]->(poe),\n  (leia)-[:SPEAKS_WITH]->(poe),\n  (finn)-[:SPEAKS_WITH]->(leia),\n  (kylo_ren)-[:SPEAKS_WITH]->(rey),\n  (poe)-[:SPEAKS_WITH]->(snap),\n  (admiral_ackbar)-[:SPEAKS_WITH]->(poe),\n  (c_3po)-[:SPEAKS_WITH]->(poe),\n  (admiral_statura)-[:SPEAKS_WITH]->(poe),\n  (han)-[:SPEAKS_WITH]->(snap),\n  (admiral_ackbar)-[:SPEAKS_WITH]->(snap),\n  (finn)-[:SPEAKS_WITH]->(snap),\n  (leia)-[:SPEAKS_WITH]->(snap),\n  (c_3po)-[:SPEAKS_WITH]->(snap),\n  (admiral_statura)-[:SPEAKS_WITH]->(snap),\n  (admiral_statura)-[:SPEAKS_WITH]->(han),\n  (admiral_ackbar)-[:SPEAKS_WITH]->(finn),\n  (admiral_ackbar)-[:SPEAKS_WITH]->(admiral_statura),\n  (c_3po)-[:SPEAKS_WITH]->(finn),\n  (admiral_statura)-[:SPEAKS_WITH]->(finn),\n  (admiral_statura)-[:SPEAKS_WITH]->(leia),\n  (admiral_statura)-[:SPEAKS_WITH]->(c_3po),\n  (captain_phasma)-[:SPEAKS_WITH]->(han),\n  (colonel_datoo)-[:SPEAKS_WITH]->(general_hux),\n  (ello_asty)-[:SPEAKS_WITH]->(poe),\n  (jess)-[:SPEAKS_WITH]->(snap),\n  (han)-[:SPEAKS_WITH]->(kylo_ren),\n  (finn)-[:SPEAKS_WITH]->(kylo_ren),\n  (jess)-[:SPEAKS_WITH]->(niv_lek),\n  (niv_lek)-[:SPEAKS_WITH]->(yolo_ziff),\n  (niv_lek)-[:SPEAKS_WITH]->(poe),\n  (ello_asty)-[:SPEAKS_WITH]->(niv_lek),\n  (jess)-[:SPEAKS_WITH]->(yolo_ziff),\n  (jess)-[:SPEAKS_WITH]->(poe),\n  (ello_asty)-[:SPEAKS_WITH]->(jess),\n  (poe)-[:SPEAKS_WITH]->(yolo_ziff),\n  (ello_asty)-[:SPEAKS_WITH]->(yolo_ziff),\n  (leia)-[:SPEAKS_WITH]->(rey),\n  (luke)-[:SPEAKS_WITH]->(rey),\n  (r2_d2)-[:APPEARS_IN]->(Episode1),\n  (r2_d2)-[:APPEARS_IN]->(Episode2),\n  (r2_d2)-[:APPEARS_IN]->(Episode3),\n  (r2_d2)-[:APPEARS_IN]->(Episode4),\n  (r2_d2)-[:APPEARS_IN]->(Episode5),\n  (r2_d2)-[:APPEARS_IN]->(Episode6),\n  (r2_d2)-[:APPEARS_IN]->(Episode7),\n  (chewbacca)-[:APPEARS_IN]->(Episode4),\n  (chewbacca)-[:APPEARS_IN]->(Episode5),\n  (chewbacca)-[:APPEARS_IN]->(Episode6),\n  (chewbacca)-[:APPEARS_IN]->(Episode7),\n  (bb_8)-[:APPEARS_IN]->(Episode7),\n  (qui_gon)-[:APPEARS_IN]->(Episode1),\n  (qui_gon)-[:APPEARS_IN]->(Episode3),\n  (nute_gunray)-[:APPEARS_IN]->(Episode1),\n  (nute_gunray)-[:APPEARS_IN]->(Episode2),\n  (nute_gunray)-[:APPEARS_IN]->(Episode3),\n  (pk_4)-[:APPEARS_IN]->(Episode1),\n  (pk_4)-[:APPEARS_IN]->(Episode2),\n  (tc_14)-[:APPEARS_IN]->(Episode1),\n  (obi_wan)-[:APPEARS_IN]->(Episode1),\n  (obi_wan)-[:APPEARS_IN]->(Episode2),\n  (obi_wan)-[:APPEARS_IN]->(Episode3),\n  (obi_wan)-[:APPEARS_IN]->(Episode4),\n  (obi_wan)-[:APPEARS_IN]->(Episode5),\n  (obi_wan)-[:APPEARS_IN]->(Episode6),\n  (dofine)-[:APPEARS_IN]->(Episode1),\n  (rune)-[:APPEARS_IN]->(Episode1),\n  (tey_how)-[:APPEARS_IN]->(Episode1),\n  (emperor)-[:APPEARS_IN]->(Episode1),\n  (emperor)-[:APPEARS_IN]->(Episode2),\n  (emperor)-[:APPEARS_IN]->(Episode3),\n  (emperor)-[:APPEARS_IN]->(Episode5),\n  (emperor)-[:APPEARS_IN]->(Episode6),\n  (captain_panaka)-[:APPEARS_IN]->(Episode1),\n  (sio_bibble)-[:APPEARS_IN]->(Episode1),\n  (sio_bibble)-[:APPEARS_IN]->(Episode2),\n  (jar_jar)-[:APPEARS_IN]->(Episode1),\n  (jar_jar)-[:APPEARS_IN]->(Episode2),\n  (jar_jar)-[:APPEARS_IN]->(Episode3),\n  (tarpals)-[:APPEARS_IN]->(Episode1),\n  (boss_nass)-[:APPEARS_IN]->(Episode1),\n  (padme)-[:APPEARS_IN]->(Episode1),\n  (padme)-[:APPEARS_IN]->(Episode2),\n  (padme)-[:APPEARS_IN]->(Episode3),\n  (ric_olie)-[:APPEARS_IN]->(Episode1),\n  (watto)-[:APPEARS_IN]->(Episode1),\n  (watto)-[:APPEARS_IN]->(Episode2),\n  (anakin)-[:APPEARS_IN]->(Episode1),\n  (anakin)-[:APPEARS_IN]->(Episode2),\n  (anakin)-[:APPEARS_IN]->(Episode3),\n  (anakin)-[:APPEARS_IN]->(Episode6),\n  (sebulba)-[:APPEARS_IN]->(Episode1),\n  (jira)-[:APPEARS_IN]->(Episode1),\n  (shmi)-[:APPEARS_IN]->(Episode1),\n  (shmi)-[:APPEARS_IN]->(Episode2),\n  (c_3po)-[:APPEARS_IN]->(Episode1),\n  (c_3po)-[:APPEARS_IN]->(Episode2),\n  (c_3po)-[:APPEARS_IN]->(Episode3),\n  (c_3po)-[:APPEARS_IN]->(Episode4),\n  (c_3po)-[:APPEARS_IN]->(Episode5),\n  (c_3po)-[:APPEARS_IN]->(Episode6),\n  (c_3po)-[:APPEARS_IN]->(Episode7),\n  (darth_maul)-[:APPEARS_IN]->(Episode1),\n  (kitster)-[:APPEARS_IN]->(Episode1),\n  (wald)-[:APPEARS_IN]->(Episode1),\n  (fode_beed)-[:APPEARS_IN]->(Episode1),\n  (jabba)-[:APPEARS_IN]->(Episode1),\n  (jabba)-[:APPEARS_IN]->(Episode4),\n  (jabba)-[:APPEARS_IN]->(Episode6),\n  (greedo)-[:APPEARS_IN]->(Episode1),\n  (greedo)-[:APPEARS_IN]->(Episode4),\n  (valorum)-[:APPEARS_IN]->(Episode1),\n  (mace_windu)-[:APPEARS_IN]->(Episode1),\n  (mace_windu)-[:APPEARS_IN]->(Episode2),\n  (mace_windu)-[:APPEARS_IN]->(Episode3),\n  (ki_adi_mundi)-[:APPEARS_IN]->(Episode1),\n  (ki_adi_mundi)-[:APPEARS_IN]->(Episode2),\n  (yoda)-[:APPEARS_IN]->(Episode1),\n  (yoda)-[:APPEARS_IN]->(Episode2),\n  (yoda)-[:APPEARS_IN]->(Episode3),\n  (yoda)-[:APPEARS_IN]->(Episode5),\n  (yoda)-[:APPEARS_IN]->(Episode6),\n  (rabe)-[:APPEARS_IN]->(Episode1),\n  (bail_organa)-[:APPEARS_IN]->(Episode1),\n  (bail_organa)-[:APPEARS_IN]->(Episode2),\n  (bail_organa)-[:APPEARS_IN]->(Episode3),\n  (general_ceel)-[:APPEARS_IN]->(Episode1),\n  (bravo_two)-[:APPEARS_IN]->(Episode1),\n  (bravo_three)-[:APPEARS_IN]->(Episode1),\n  (captain_typho)-[:APPEARS_IN]->(Episode2),\n  (captain_typho)-[:APPEARS_IN]->(Episode3),\n  (senator_ask_aak)-[:APPEARS_IN]->(Episode2),\n  (orn_free_taa)-[:APPEARS_IN]->(Episode2),\n  (sola)-[:APPEARS_IN]->(Episode2),\n  (jobal)-[:APPEARS_IN]->(Episode2),\n  (ruwee)-[:APPEARS_IN]->(Episode2),\n  (taun_we)-[:APPEARS_IN]->(Episode2),\n  (lama_su)-[:APPEARS_IN]->(Episode2),\n  (boba_fett)-[:APPEARS_IN]->(Episode2),\n  (boba_fett)-[:APPEARS_IN]->(Episode5),\n  (jango_fett)-[:APPEARS_IN]->(Episode2),\n  (owen)-[:APPEARS_IN]->(Episode2),\n  (owen)-[:APPEARS_IN]->(Episode4),\n  (beru)-[:APPEARS_IN]->(Episode2),\n  (beru)-[:APPEARS_IN]->(Episode4),\n  (cliegg)-[:APPEARS_IN]->(Episode2),\n  (count_dooku)-[:APPEARS_IN]->(Episode2),\n  (count_dooku)-[:APPEARS_IN]->(Episode3),\n  (sun_rit)-[:APPEARS_IN]->(Episode2),\n  (poggle)-[:APPEARS_IN]->(Episode2),\n  (plo_koon)-[:APPEARS_IN]->(Episode2),\n  (plo_koon)-[:APPEARS_IN]->(Episode3),\n  (odd_ball)-[:APPEARS_IN]->(Episode3),\n  (general_grievous)-[:APPEARS_IN]->(Episode3),\n  (fang_zar)-[:APPEARS_IN]->(Episode3),\n  (mon_mothma)-[:APPEARS_IN]->(Episode3),\n  (mon_mothma)-[:APPEARS_IN]->(Episode6),\n  (giddean_danu)-[:APPEARS_IN]->(Episode3),\n  (clone_commander_gree)-[:APPEARS_IN]->(Episode3),\n  (clone_commander_cody)-[:APPEARS_IN]->(Episode3),\n  (tion_medon)-[:APPEARS_IN]->(Episode3),\n  (captain_antilles)-[:APPEARS_IN]->(Episode3),\n  (darth_vader)-[:APPEARS_IN]->(Episode3),\n  (darth_vader)-[:APPEARS_IN]->(Episode4),\n  (darth_vader)-[:APPEARS_IN]->(Episode5),\n  (darth_vader)-[:APPEARS_IN]->(Episode6),\n  (luke)-[:APPEARS_IN]->(Episode4),\n  (luke)-[:APPEARS_IN]->(Episode5),\n  (luke)-[:APPEARS_IN]->(Episode6),\n  (luke)-[:APPEARS_IN]->(Episode7),\n  (camie)-[:APPEARS_IN]->(Episode4),\n  (biggs)-[:APPEARS_IN]->(Episode4),\n  (leia)-[:APPEARS_IN]->(Episode4),\n  (leia)-[:APPEARS_IN]->(Episode5),\n  (leia)-[:APPEARS_IN]->(Episode6),\n  (leia)-[:APPEARS_IN]->(Episode7),\n  (motti)-[:APPEARS_IN]->(Episode4),\n  (tarkin)-[:APPEARS_IN]->(Episode4),\n  (han)-[:APPEARS_IN]->(Episode4),\n  (han)-[:APPEARS_IN]->(Episode5),\n  (han)-[:APPEARS_IN]->(Episode6),\n  (han)-[:APPEARS_IN]->(Episode7),\n  (dodonna)-[:APPEARS_IN]->(Episode4),\n  (gold_leader)-[:APPEARS_IN]->(Episode4),\n  (wedge)-[:APPEARS_IN]->(Episode4),\n  (wedge)-[:APPEARS_IN]->(Episode5),\n  (wedge)-[:APPEARS_IN]->(Episode6),\n  (red_leader)-[:APPEARS_IN]->(Episode4),\n  (red_ten)-[:APPEARS_IN]->(Episode4),\n  (gold_five)-[:APPEARS_IN]->(Episode4),\n  (rieekan)-[:APPEARS_IN]->(Episode5),\n  (derlin)-[:APPEARS_IN]->(Episode5),\n  (zev)-[:APPEARS_IN]->(Episode5),\n  (piett)-[:APPEARS_IN]->(Episode5),\n  (piett)-[:APPEARS_IN]->(Episode6),\n  (ozzel)-[:APPEARS_IN]->(Episode5),\n  (dack)-[:APPEARS_IN]->(Episode5),\n  (janson)-[:APPEARS_IN]->(Episode5),\n  (needa)-[:APPEARS_IN]->(Episode5),\n  (lando)-[:APPEARS_IN]->(Episode5),\n  (lando)-[:APPEARS_IN]->(Episode6),\n  (jerjerrod)-[:APPEARS_IN]->(Episode6),\n  (bib_fortuna)-[:APPEARS_IN]->(Episode6),\n  (boushh)-[:APPEARS_IN]->(Episode6),\n  (admiral_ackbar)-[:APPEARS_IN]->(Episode6),\n  (admiral_ackbar)-[:APPEARS_IN]->(Episode7),\n  (lor_san_tekka)-[:APPEARS_IN]->(Episode7),\n  (poe)-[:APPEARS_IN]->(Episode7),\n  (kylo_ren)-[:APPEARS_IN]->(Episode7),\n  (captain_phasma)-[:APPEARS_IN]->(Episode7),\n  (finn)-[:APPEARS_IN]->(Episode7),\n  (unkar_plutt)-[:APPEARS_IN]->(Episode7),\n  (rey)-[:APPEARS_IN]->(Episode7),\n  (general_hux)-[:APPEARS_IN]->(Episode7),\n  (lieutenant_mitaka)-[:APPEARS_IN]->(Episode7),\n  (bala_tik)-[:APPEARS_IN]->(Episode7),\n  (snoke)-[:APPEARS_IN]->(Episode7),\n  (maz)-[:APPEARS_IN]->(Episode7),\n  (snap)-[:APPEARS_IN]->(Episode7),\n  (admiral_statura)-[:APPEARS_IN]->(Episode7),\n  (yolo_ziff)-[:APPEARS_IN]->(Episode7),\n  (colonel_datoo)-[:APPEARS_IN]->(Episode7),\n  (ello_asty)-[:APPEARS_IN]->(Episode7),\n  (jess)-[:APPEARS_IN]->(Episode7),\n  (niv_lek)-[:APPEARS_IN]->(Episode7)\n----\n\nLet's look at some basic information from the database. The following query extracts \nall the films that are included in the network.\n\n[source,cypher]\n----\nMATCH (m:Movie)\nRETURN m.name\n----\n\n//table\n\nIt seems that the database correctly contains all the seven episodes of Star Wars.\n\n\n== Simple network properties\n\nNow we can start comparing the individual episodes based on their network properties. Is the original\ntrilogy different from the prequels in terms of its social network? And how does The Force Awakens\ncompare to the rest? \n\nLet's start with looking at the number of characters in each of the episodes. The following\nquery extracts characters and returns their count aggregated by the movie that they appear in. \n\n[source,cypher]\n----\nMATCH (m:Movie)<-[:APPEARS_IN]-(character)\nRETURN m.name AS movie, count(*) AS characters\nORDER BY m.name;\n----\n\n//table\n\nWe can immediately see some differences between the movies. The original trilogy (Episodes IV to VI)\nhas the smallest number of characters. On the other hand, Episode I: The Phantom Menace has the largest number\nof characters, almost twice as many. \n\nHow many interactions are there between the characters? In this query, we extract all the links between \ntwo characters that both appear within the same movie and return their count for each movie. This is a \nsimplification because I'm assuming that if two characters have link between them, then they interact\nin every movie where they both appear.\n\n[source,cypher]\n----\nMATCH (m)<-[:APPEARS_IN]-(character)-[:SPEAKS_WITH]-(character2)-[:APPEARS_IN]->(m)\nRETURN m.name AS movie, count(*) AS edges\nORDER BY m.name;\n----\n\n//table\n\nThe results show a similar story, where the original trilogy has smaller number of links \nbetween the characters and their social networks are smaller. This corresponds to the\ntighter and more organized structure of the original films, which have smaller number of\ncharacters that bind the story together more.\n\n\n== Extracting social network relations\n\nWe can also use the database to extract the social network for each of the Star Wars movies. \nThe following query extracts all the characters that appear in a specific episode and\nall the interactions between them. I'm using the Episode VII \nas an example:\n\n[source,cypher]\n----\nMATCH network=(m)<-[:APPEARS_IN]-(character1)-[r]-(character2)-[:APPEARS_IN]->(m)\nWHERE m.name='Episode VII: The Force Awakens'\nRETURN character1, r, character2\n----\n\n//graph_result\n\nWe can see that there are parts of the network that correspond to the Dark side characters,\nincluding Snoke, General Hux and others. There is also a cluster of nodes that represent\nResistance pilots, and who interact mainly with each other and with Poe. Let's explore the\nnetwork in more detail.\n\n== Importance of characters in the network\n\nA basic measure of centrality in a social network is the *degree centrality*. This is \nsimply the number of connections each node has in the network. \nIn our Star Wars network, this corresponds to the total number of scenes where each character speaks.\nThe following query extracts the number of `SPEAKS_WITH` relations for each character and returns\nthe top 10 results. \n\n[source,cypher]\n----\nMATCH (ch1)-[:SPEAKS_WITH]-(ch2)\nRETURN ch1.name AS name, count(*) AS degree\nORDER BY count(*) DESC LIMIT 10;\n----\n\n//table\n\nThis result is strongly affected by the large social networks of the prequels. Anakin\ncomes out at the top as the person that speaks with the largest number of other characters.\nAnd because of the prequels, even Jar Jar made it into the top 10.\n\nWe can instead look at who has the largest degree within the individual films. This query\nextracts the characters that speak to each other and appear within the same film, and counts\nthe number of such connections for each character. I'm using the orignal Episode IV: A New Hope\nin the example.\n\n[source,cypher]\n----\nMATCH (m)<-[:APPEARS_IN]-(ch1)-[:SPEAKS_WITH]-(ch2)-[:APPEARS_IN]->(m)\nWHERE m.name='Episode IV: A New Hope' \nRETURN ch1.name AS name, count(*) AS degree\nORDER BY count(*) DESC LIMIT 5;\n----\n\n//table\n\nHere, Luke Skywalker is the most central character, followed by Leia and the droids. \n\nWe can also visualize the results and look at the specific interactions. \nFor example, the following query extracts all the\ncharacters that interact with Luke Skywalker, together with the movies that they appear in. \n\n[source,cypher]\n----\nMATCH path=(luke:Person {name: 'LUKE'})-[:SPEAKS_WITH]-(other)-[:APPEARS_IN]-(movie)\nRETURN path\n----\n\n//graph_result\n\nHere we can see that some of the characters cluster around specific episodes (these are the\ncharacters that appear only the specific episode). Other characters that interact with Luke\nacross several other episodes appear as more central nodes in the network.\n\n== Summary\n\nThis GraphGist showed how to do simple social network analysis using the \nStar Wars social network that I extracted from the film scripts. We looked at how to \nextract and summarize sub-networks for individual episodes, and for specific characters. \nOverall, this was my first experience with Neo4j and it was very easy to create the network and \nextract interesting information from the database. \n","featured":false}]}}
